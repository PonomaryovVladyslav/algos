class ListNode:
    def __init__(self, value=0, next=None):
        self.val = value
        self.next = next


def sum_two_ll(l1: ListNode, l2: ListNode) -> ListNode:
    """
    Ð¡ÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÐµÑ‚ Ð´Ð²Ð° Ñ‡Ð¸ÑÐ»Ð°, Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð² Ð²Ð¸Ð´Ðµ Ð¿ÐµÑ€ÐµÐ²Ñ‘Ñ€Ð½ÑƒÑ‚Ñ‹Ñ… ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ñ… ÑÐ¿Ð¸ÑÐºÐ¾Ð².

    ðŸ”¹ **ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼**:
       1. ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ð¼ Ð¿Ð¾ Ð´Ð²ÑƒÐ¼ ÑÐ¿Ð¸ÑÐºÐ°Ð¼, ÑÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÐµÐ¼ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ñ†Ð¸Ñ„Ñ€Ñ‹ + Ð¿ÐµÑ€ÐµÐ½Ð¾Ñ.
       2. Ð•ÑÐ»Ð¸ ÑÑƒÐ¼Ð¼Ð° >= 10, ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ `sum % 10`, Ð° `carry = 1`.
       3. Ð•ÑÐ»Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ ÑÐ¿Ð¸ÑÐºÐ¾Ð² `carry == 1`, Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÐµÑ‰Ñ‘ Ð¾Ð´Ð¸Ð½ ÑƒÐ·ÐµÐ».

    ðŸ”¹ **Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ**:
       - `O(max(N, M))`, Ð³Ð´Ðµ `N` Ð¸ `M` â€” Ð´Ð»Ð¸Ð½Ñ‹ ÑÐ¿Ð¸ÑÐºÐ¾Ð².
       - `O(1)` Ð´Ð¾Ð¿. Ð¿Ð°Ð¼ÑÑ‚Ð¸, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹.
    """

    dummy = ListNode(0)
    curr = dummy
    carry = 0

    while l1 or l2 or carry:
        val1 = l1.val if l1 else 0  # Ð‘ÐµÑ€Ñ‘Ð¼ Ñ‡Ð¸ÑÐ»Ð¾ Ð¸Ð· l1 Ð¸Ð»Ð¸ 0, ÐµÑÐ»Ð¸ l1 ÐºÐ¾Ð½Ñ‡Ð¸Ð»ÑÑ
        val2 = l2.val if l2 else 0  # ÐÐ½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ Ð´Ð»Ñ l2
        total = val1 + val2 + carry

        carry = total // 10  # ÐŸÐµÑ€ÐµÐ½Ð¾Ñ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð·Ñ€ÑÐ´
        curr.next = ListNode(total % 10)  # Ð—Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑŽÑŽ Ñ†Ð¸Ñ„Ñ€Ñƒ Ð² Ð½Ð¾Ð²Ñ‹Ð¹ ÑƒÐ·ÐµÐ»
        curr = curr.next

        if l1:
            l1 = l1.next  # ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ ÑƒÐ·Ð»Ñƒ l1
        if l2:
            l2 = l2.next  # ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ ÑƒÐ·Ð»Ñƒ l2

    return dummy.next


# ðŸ”¹ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¿Ð¸ÑÐºÐ¾Ð²
l11 = ListNode(2, ListNode(4, ListNode(3)))  # 342
l21 = ListNode(5, ListNode(6, ListNode(4, ListNode(1))))  # 1465

# ðŸ”¹ Ð¡Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ‡Ð¸ÑÐµÐ»
result = sum_two_ll(l11, l21)

# ðŸ”¹ Ð’Ñ‹Ð²Ð¾Ð´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°
while result:
    print(result.val, end=" -> " if result.next else "")
    result = result.next
# Ð’Ñ‹Ð²Ð¾Ð´: 7 -> 0 -> 8 -> 1  (342 + 1465 = 1807)
