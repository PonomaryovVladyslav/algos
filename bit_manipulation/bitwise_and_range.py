# –ó–∞–¥–∞—á–∞: –ù–∞–π—Ç–∏ –ø–æ–±–∏—Ç–æ–≤–æ–µ –ò (AND) –≤—Å–µ—Ö —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [left, right].
# –î–∞–Ω–æ: –¥–≤–∞ —á–∏—Å–ª–∞ `left` –∏ `right`.
# –ù—É–∂–Ω–æ: –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `left & (left + 1) & ... & right`.

def range_bitwise_and(left: int, right: int) -> int:
    """
    –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–±–∏—Ç–æ–≤–æ–µ –ò (AND) –≤—Å–µ—Ö —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [left, right].

    üîπ –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(log n), —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π —à–∞–≥ —É–º–µ–Ω—å—à–∞–µ—Ç `right` –≤ 2 —Ä–∞–∑–∞.
    üîπ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(1), —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

    :param left: int - –ª–µ–≤—ã–π –∫—Ä–∞–π –¥–∏–∞–ø–∞–∑–æ–Ω–∞.
    :param right: int - –ø—Ä–∞–≤—ã–π –∫—Ä–∞–π –¥–∏–∞–ø–∞–∑–æ–Ω–∞.
    :return: int - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–±–∏—Ç–æ–≤–æ–≥–æ AND –≤—Å–µ—Ö —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ.
    """

    shift: int = 0  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–≤–∏–≥–æ–≤
    while left < right:  # –ü–æ–∫–∞ —á–∏—Å–ª–∞ —Ä–∞–∑–Ω—ã–µ, –æ–±–Ω—É–ª—è–µ–º –º–ª–∞–¥—à–∏–µ –±–∏—Ç—ã
        left >>= 1
        right >>= 1
        shift += 1

    return left << shift  # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–¥–≤–∏–Ω—É—Ç—ã–µ –Ω—É–ª–∏


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
print(range_bitwise_and(5, 7))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 4
print(range_bitwise_and(0, 1))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 0
print(range_bitwise_and(12, 15))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 12
print(range_bitwise_and(8, 10))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 8

"""
üîπ –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:

‚úÖ –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: **O(log n)**
   - –ö–∞–∂–¥—ã–π —à–∞–≥ **—Å–¥–≤–∏–≥–∞–µ—Ç —á–∏—Å–ª–∞ –≤–ø—Ä–∞–≤–æ**, —É–º–µ–Ω—å—à–∞—è –∏—Ö –≤ 2 —Ä–∞–∑–∞.
   - –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ –¥–µ–ª–∞–µ–º **O(log n) —à–∞–≥–æ–≤**, –≥–¥–µ `n` ‚Äî `right`.

‚úÖ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: **O(1)**
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º **—Ç–æ–ª—å–∫–æ —Ç—Ä–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`left`, `right`, `shift`)**.

üìå **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º?**
1Ô∏è‚É£ **–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º `left` –∏ `right`**:
   - –ï—Å–ª–∏ —É –Ω–∏—Ö **—Ä–∞–∑–Ω—ã–µ –±–∏—Ç—ã**, —Å–¥–≤–∏–≥–∞–µ–º –∏—Ö –≤–ø—Ä–∞–≤–æ (`>>= 1`).
   - –≠—Ç–æ –æ–±–Ω—É–ª—è–µ—Ç **–º–ª–∞–¥—à–∏–µ –±–∏—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ.

2Ô∏è‚É£ **–ö–æ–≥–¥–∞ `left == right`**, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–∏—Å–ª–∞ (`<< shift`).
   - –≠—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ä—à–∏–µ **–Ω–µ–∏–∑–º–µ–Ω–Ω—ã–µ –±–∏—Ç—ã** –Ω–∞ –º–µ—Å—Ç–æ.

üí° **–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
- –ü–æ–±–∏—Ç–æ–≤–æ–µ AND **–æ–±–Ω—É–ª—è–µ—Ç** –≤—Å–µ **–º–ª–∞–¥—à–∏–µ –±–∏—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—è—é—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ.
- –°–¥–≤–∏–≥ `>> 1` –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ —É–±—Ä–∞—Ç—å **—Ä–∞–∑–ª–∏—á–∞—é—â–∏–µ—Å—è –º–ª–∞–¥—à–∏–µ –±–∏—Ç—ã**.
"""
