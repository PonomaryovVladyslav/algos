# –ó–∞–¥–∞—á–∞: –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å `target` –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º, –Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ–º –º–∞—Å—Å–∏–≤–µ.
# –î–∞–Ω–æ: –º–∞—Å—Å–∏–≤ `nums`, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é, –Ω–æ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º —Å–¥–≤–∏–≥–æ–º (–±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤).
# –ù—É–∂–Ω–æ: –≤–µ—Ä–Ω—É—Ç—å –∏–Ω–¥–µ–∫—Å `target`, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω, –∏–Ω–∞—á–µ `-1`.

def search(nums: list[int], target: int) -> int:
    """
    –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≤ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ–º –º–∞—Å—Å–∏–≤–µ.

    :param nums: list[int] - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—ã–π –º–∞—Å—Å–∏–≤.
    :param target: int - –∏—Å–∫–æ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç.
    :return: int - –∏–Ω–¥–µ–∫—Å `target` –∏–ª–∏ `-1`, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω.
    """

    left, right = 0, len(nums) - 1  # –ì—Ä–∞–Ω–∏—Ü—ã –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

    while left <= right:
        mid = (left + right) // 2  # –°—Ä–µ–¥–Ω–∏–π –∏–Ω–¥–µ–∫—Å

        if nums[mid] == target:
            return mid  # –ù–∞–π–¥–µ–Ω target

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞
        if nums[left] <= nums[mid]:  # –õ–µ–≤–∞—è —á–∞—Å—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞
            if nums[left] <= target < nums[mid]:  # `target` –≤ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏
                right = mid - 1
            else:
                left = mid + 1
        else:  # –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞
            if nums[mid] < target <= nums[right]:  # `target` –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏
                left = mid + 1
            else:
                right = mid - 1

    return -1  # –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
print(search([4, 5, 6, 7, 0, 1, 2], 0))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 4
print(search([4, 5, 6, 7, 0, 1, 2], 3))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -1
print(search([1], 0))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -1
print(search([5, 6, 7, 0, 1, 2, 3, 4], 6))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 1

"""
–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(log n), —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫.
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(1), —Ç–∞–∫ –∫–∞–∫ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å.
"""
