# –ó–∞–¥–∞—á–∞: –ù–∞–π—Ç–∏ `target` –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ.
# –î–∞–Ω–æ: `matrix` (m x n), –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ,
# –∞ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –±–æ–ª—å—à–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–æ–∫–∏.
# –ù—É–∂–Ω–æ: –≤–µ—Ä–Ω—É—Ç—å `True`, –µ—Å–ª–∏ `target` –Ω–∞–π–¥–µ–Ω, –∏–Ω–∞—á–µ `False`.

def search_matrix(matrix: list[list[int]], target: int) -> bool:
    """
    –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ `target` –≤ `matrix`.

    :param matrix: list[list[int]] - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–º `m x n`.
    :param target: int - –∏—Å–∫–æ–º–æ–µ —á–∏—Å–ª–æ.
    :return: bool - `True`, –µ—Å–ª–∏ `target` –Ω–∞–π–¥–µ–Ω, –∏–Ω–∞—á–µ `False`.
    """

    if not matrix or not matrix[0]:  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—É—é –º–∞—Ç—Ä–∏—Ü—É
        return False

    m, n = len(matrix), len(matrix[0])  # –†–∞–∑–º–µ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã
    left, right = 0, m * n - 1  # –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

    while left <= right:
        mid = (left + right) // 2
        row, col = divmod(mid, n)  # row = mid // n, col = mid % n

        if matrix[row][col] == target:
            return True
        elif matrix[row][col] < target:
            left = mid + 1
        else:
            right = mid - 1

    return False


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
matrix1 = [
  [1, 3, 5, 7],
  [10, 11, 16, 20],
  [23, 30, 34, 60]
]
print(search_matrix(matrix1, 3))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: True
print(search_matrix(matrix1, 13))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: False

matrix2 = [[1]]
print(search_matrix(matrix2, 1))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: True
print(search_matrix(matrix2, 2))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: False

"""
–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(log(m * n)), —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–π –º–∞—Ç—Ä–∏—Ü–µ.
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(1), —Ç–∞–∫ –∫–∞–∫ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å.
"""
