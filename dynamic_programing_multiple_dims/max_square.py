def maximal_square_dp(matrix: list[list[int]]) -> int:
    """
    –§—É–Ω–∫—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç **—Ä–∞–∑–º–µ—Ä –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –ø–æ–¥–º–∞—Å—Å–∏–≤–∞** —Å `1` –≤ –º–∞—Ç—Ä–∏—Ü–µ `matrix`.

    üîπ –ê–ª–≥–æ—Ä–∏—Ç–º (–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ O(m * n)):
    1Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–µ–º `dp[i][j]`, –≥–¥–µ `dp[i][j]` ‚Äî —Å—Ç–æ—Ä–æ–Ω–∞ –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ –∫–≤–∞–¥—Ä–∞—Ç–∞,
       –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–µ–≥–æ—Å—è –≤ `matrix[i][j]`.
    2Ô∏è‚É£ –ï—Å–ª–∏ `matrix[i][j] == 1`, —Ç–æ:
        - `dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1`
    3Ô∏è‚É£ `max_side` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–∞–∏–±–æ–ª—å—à—É—é —Å—Ç–æ—Ä–æ–Ω—É –∫–≤–∞–¥—Ä–∞—Ç–∞.
    4Ô∏è‚É£ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç: `max_side ** 2`.

    üîπ –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: **O(m * n)** ‚Äî –¥–≤–æ–π–Ω–æ–π —Ü–∏–∫–ª.
    üîπ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: **O(m * n)** ‚Äî `dp` —Ç–∞–±–ª–∏—Ü–∞.

    :param matrix: list[list[int]] - –±–∏–Ω–∞—Ä–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ `m x n` (0 –∏ 1).
    :return: int - –ø–ª–æ—â–∞–¥—å –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –ø–æ–¥–º–∞—Å—Å–∏–≤–∞.
    """

    if not matrix:
        return 0

    m, n = len(matrix), len(matrix[0])
    dp = [[0] * n for _ in range(m)]
    max_side = 0

    # –ó–∞–ø–æ–ª–Ω—è–µ–º DP —Ç–∞–±–ª–∏—Ü—É
    for i in range(m):
        for j in range(n):
            if matrix[i][j] == 1:
                if i == 0 or j == 0:
                    dp[i][j] = 1  # –ì—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ–≥–¥–∞ 1
                else:
                    dp[i][j] = min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) + 1

                max_side = max(max_side, dp[i][j])

    return max_side ** 2


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
matrix = [
    [1, 0, 1, 0, 0],
    [1, 0, 1, 1, 1],
    [1, 1, 1, 1, 1],
    [1, 0, 0, 1, 1]
]

print(maximal_square_dp(matrix))  # ‚úÖ 4

matrix2 = [
    [0, 1],
    [1, 0]
]

print(maximal_square_dp(matrix2))  # ‚úÖ 1

matrix3 = [
    [1, 1, 1],
    [1, 1, 1],
    [1, 1, 1]
]

print(maximal_square_dp(matrix3))  # ‚úÖ 9
