# –ó–∞–¥–∞—á–∞: –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Å—Å–∏–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç - –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫—Ä–æ–º–µ –Ω–µ–≥–æ.
# –î–∞–Ω–æ: –º–∞—Å—Å–∏–≤ nums –¥–ª–∏–Ω—ã n.
# –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π nums[i] –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª –º–∞—Å—Å–∏–≤–∞, –∫—Ä–æ–º–µ nums[i].
# –†–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ O(n) –≤—Ä–µ–º–µ–Ω–∏ –∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–ª–µ–Ω–∏—è.

def product_except_self(nums: list[int]) -> list[int]:
    """
    –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ —Å–µ–±—è.

    :param nums: list[int] - –≤—Ö–æ–¥–Ω–æ–π —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª.
    :return: list[int] - —Å–ø–∏—Å–æ–∫, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç - –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª –∫—Ä–æ–º–µ –Ω–µ–≥–æ.
    """

    n: int = len(nums)
    answer: list[int] = [1] * n  # –ò—Ç–æ–≥–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å –µ–¥–∏–Ω–∏—Ü–∞–º–∏

    # –ó–∞–ø–æ–ª–Ω—è–µ–º –ª–µ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç (–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª —Å–ª–µ–≤–∞ –æ—Ç i)
    left: int = 1
    for i in range(n):
        answer[i] = left  # answer[i] –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª —Å–ª–µ–≤–∞ –æ—Ç i
        left *= nums[i]  # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å–ª–µ–≤–∞

    # –ó–∞–ø–æ–ª–Ω—è–µ–º –ø—Ä–∞–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç (–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —á–∏—Å–µ–ª —Å–ø—Ä–∞–≤–∞ –æ—Ç i)
    right: int = 1
    for i in range(n - 1, -1, -1):
        answer[i] *= right  # –£–º–Ω–æ–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π answer[i] –Ω–∞ –ø—Ä–∞–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç
        right *= nums[i]  # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞

    return answer


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
nums1 = [1, 2, 3, 4]
nums2 = [-1, 1, 0, -3, 3]

print(product_except_self(nums1))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [24, 12, 8, 6]
print(product_except_self(nums2))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [0, 0, 9, 0, 0]

"""
–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(n), —Ç–∞–∫ –∫–∞–∫ –º—ã –¥–≤–∞–∂–¥—ã –ø—Ä–æ—Ö–æ–¥–∏–º –º–∞—Å—Å–∏–≤.
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(1) (–µ—Å–ª–∏ –Ω–µ —Å—á–∏—Ç–∞—Ç—å answer –∫–∞–∫ –≤—ã—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤).
"""
