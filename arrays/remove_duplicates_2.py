# –ó–∞–¥–∞—á–∞: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–∑ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–æ –¥–≤—É—Ö –∫–æ–ø–∏–π –∫–∞–∂–¥–æ–≥–æ —á–∏—Å–ª–∞.
# –î–∞–Ω–æ: –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ `nums`.
# –ù—É–∂–Ω–æ: –∏–∑–º–µ–Ω–∏—Ç—å `nums` —Ç–∞–∫, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤—Å—Ç—Ä–µ—á–∞–ª—Å—è –Ω–µ –±–æ–ª–µ–µ –¥–≤—É—Ö —Ä–∞–∑, –∏ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `k`.

def remove_duplicates_at_least_twice(nums: list[int]) -> int:
    """
    –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –∏–∑ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –æ—Å—Ç–∞–≤–ª—è—è –Ω–µ –±–æ–ª–µ–µ –¥–≤—É—Ö –∫–æ–ø–∏–π –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

    :param nums: list[int] - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª.
    :return: int - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.
    """

    if len(nums) <= 2:
        return len(nums)  # –ï—Å–ª–∏ 2 –∏–ª–∏ –º–µ–Ω—å—à–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –º–∞—Å—Å–∏–≤ —É–∂–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—é

    k: int = 2  # –ù–∞—á–∏–Ω–∞–µ–º —Å —Ç—Ä–µ—Ç—å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–≤—ã–µ –¥–≤–∞ –≤—Å–µ–≥–¥–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã

    # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –º–∞—Å—Å–∏–≤—É, –Ω–∞—á–∏–Ω–∞—è —Å —Ç—Ä–µ—Ç—å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    for i in range(2, len(nums)):
        if nums[i] != nums[k - 2]:  # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç –æ—Ç –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
            nums[k] = nums[i]  # –ü–µ—Ä–µ–º–µ—â–∞–µ–º –µ–≥–æ –≤–ø–µ—Ä–µ–¥
            k += 1  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

    return k  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
nums = [0, 0, 0, 1, 1, 1, 1, 2, 3, 3]
a = remove_duplicates_at_least_twice(nums)
print(nums[:a])  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [0, 0, 1, 1, 2, 3, 3]
print(a)  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 7

"""
–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(n), —Ç–∞–∫ –∫–∞–∫ –º—ã –ø—Ä–æ—Ö–æ–¥–∏–º –º–∞—Å—Å–∏–≤ –æ–¥–∏–Ω —Ä–∞–∑.
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(1), —Ç–∞–∫ –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ –±–µ–∑ –¥–æ–ø. –ø–∞–º—è—Ç–∏.
"""
