# –ó–∞–¥–∞—á–∞: –°–æ–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã –º–µ–∂–¥—É —Å—Ç–µ–Ω–∫–∞–º–∏ —Ä–∞–∑–Ω–æ–π –≤—ã—Å–æ—Ç—ã.
# –î–∞–Ω–æ: —Å–ø–∏—Å–æ–∫ –≤—ã—Å–æ—Ç `height`, –≥–¥–µ `height[i]` ‚Äî –≤—ã—Å–æ—Ç–∞ —Å—Ç–µ–Ω–∫–∏ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ `i`.
# –ù—É–∂–Ω–æ: –≤—ã—á–∏—Å–ª–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω–æ.

def trap(height: list[int]) -> int:
    """
    –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω–æ –º–µ–∂–¥—É —Å—Ç–µ–Ω–∫–∞–º–∏.

    :param height: list[int] - —Å–ø–∏—Å–æ–∫ –≤—ã—Å–æ—Ç —Å—Ç–µ–Ω–æ–∫.
    :return: int - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—Ä–∞–Ω–Ω–æ–π –≤–æ–¥—ã.
    """

    if not height:
        return 0  # –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç, –≤–æ–¥—ã –Ω–µ—Ç

    left, right = 0, len(height) - 1  # –î–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è
    left_max, right_max = height[left], height[right]  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≤—ã—Å–æ—Ç—ã —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞
    water = 0  # –ò—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã

    while left < right:
        if left_max < right_max:  # –î–≤–∏–≥–∞–µ–º –ª–µ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
            left += 1
            left_max = max(left_max, height[left])  # –û–±–Ω–æ–≤–ª—è–µ–º –ª–µ–≤—ã–π –º–∞–∫—Å–∏–º—É–º
            water += max(0, left_max - height[left])  # –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—Ä–∞–Ω–Ω—É—é –≤–æ–¥—É
        else:  # –î–≤–∏–≥–∞–µ–º –ø—Ä–∞–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
            right -= 1
            right_max = max(right_max, height[right])  # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∞–≤—ã–π –º–∞–∫—Å–∏–º—É–º
            water += max(0, right_max - height[right])  # –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—Ä–∞–Ω–Ω—É—é –≤–æ–¥—É

    return water


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
height = [0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1]
print(trap(height))  # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 6

"""
–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(n), —Ç–∞–∫ –∫–∞–∫ –º—ã –ø—Ä–æ—Ö–æ–¥–∏–º –º–∞—Å—Å–∏–≤ –æ–¥–∏–Ω —Ä–∞–∑.
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(1), —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
"""
