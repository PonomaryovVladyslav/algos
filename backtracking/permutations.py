# –ó–∞–¥–∞—á–∞: –ù–∞–π—Ç–∏ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ `nums`.
# –î–∞–Ω–æ: —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª `nums`.
# –ù—É–∂–Ω–æ: –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫.

def permute(nums: list[int]) -> list[list[int]]:
    """
    –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–ø–∏—Å–∫–∞ `nums`.

    :param nums: list[int] - —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª.
    :return: list[list[int]] - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫.
    """

    result: list[list[int]] = []  # –ò—Ç–æ–≥–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫

    def backtrack(path: list[int]) -> None:
        """
        –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫.

        :param path: list[int] - —Ç–µ–∫—É—â–∞—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞.
        """

        if len(path) == len(nums):  # –ï—Å–ª–∏ –≤—Å–µ —á–∏—Å–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã
            result.append(path[:])  # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ø–∏—é —Ç–µ–∫—É—â–µ–π –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏
            return

        for num in nums:  # –ü—Ä–æ–±—É–µ–º –∫–∞–∂–¥–æ–µ —á–∏—Å–ª–æ
            if num not in path:  # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –ª–∏ —á–∏—Å–ª–æ
                path.append(num)
                backtrack(path)  # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º
                path.pop()  # –û—Ç–∫–∞—Ç (backtracking)

    backtrack([])
    return result


# üîπ –¢–µ—Å—Ç–∏—Ä—É–µ–º
print(permute([1, 2, 3]))
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [[1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]]

print(permute([0, 1]))
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [[0,1], [1,0]]

print(permute([1]))
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [[1]]

"""
–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(n!), —Ç–∞–∫ –∫–∞–∫ –º—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º n! –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫.
- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: O(n), —Ç–∞–∫ –∫–∞–∫ –≥–ª—É–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ `n`.
"""
